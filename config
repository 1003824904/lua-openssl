# Installation directories

# Default installation prefix
PREFIX=/usr/local

# System's libraries directory (where binary libraries are installed)
LUA_LIBDIR= $(PREFIX)/lib/lua/5.1

# Lua includes directory
LUA_INC= $(PREFIX)/include/lua5.1

# OS dependent
LIB_OPTION= -shared #for Linux

#LIB_OPTION= -bundle -undefined dynamic_lookup #for MacOS X
STATIC_LIBS= $(PREFIX)/ssl/lib/libssl.a $(PREFIX)/ssl/lib/libcrypto.a
LIBNAME= $T.so.$V
OPENSSL_INC=-I$(PREFIX)/ssl/include

# Compilation directives
WARN_MOST= -Wall -fPIC -W -Waggregate-return -Wcast-align -Wmissing-prototypes -Wnested-externs -Wshadow -Wwrite-strings -pedantic
WARN= -Wall -fPIC -Wno-unused-value
INCS= -I$(LUA_INC) $(OPENSSL_INC)
CFLAGS= $(WARN) $(INCS) -DPTHREADS -DLOAD_ENGINE_CUSTOM=ENGINE_load_gmsm2
CC= gcc -g -fPIC $(CFLAGS)


